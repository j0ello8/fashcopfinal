(self.webpackChunk=self.webpackChunk||[]).push([[535],{754:(e,a,t)=>{"use strict";t.r(a),t.d(a,{default:()=>l});var n,s,o=t(268);function i(e,a){return a||(a=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(a)}}))}const r={name:"AppLogin",data:function(){return{email:"",login:!0,name:"",password:""}},methods:{confirm:function(){var e=this,a=this.$data,t=a.name,r=a.email,l=a.password;this.login?this.$apollo.mutate({mutation:(0,o.ZP)(n||(n=i(["\n              mutation($email: String!, $password: String!) {\n                login(email: $email, password: $password) {\n                  token\n                  user {\n                    name\n                    email\n                  }\n                }\n              }\n            "]))),variables:{email:r,password:l}}).then((function(a){e.saveUserData(a.data.login),e.$router.push({path:"/"})})).catch((function(e){alert(e)})):this.$apollo.mutate({mutation:(0,o.ZP)(s||(s=i(["\n              mutation($email: String!, $name: String!, $password: String!) {\n                register(email: $email, password: $password, name: $name) {\n                  token\n                  user {\n                    name\n                    email\n                  }\n                }\n              }\n            "]))),variables:{name:t,email:r,password:l}}).then((function(a){e.saveUserData(a.data.register),e.$router.push({path:"/"})})).catch((function(e){alert(e)}))},saveUserData:function(e){localStorage.setItem("auth",JSON.stringify(e))}}};const l=(0,t(900).Z)(r,(function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",[t("h4",{staticClass:"mb-3"},[e._v(e._s(e.login?"Login":"Sign Up"))]),e._v(" "),t("div",{staticClass:"space-y-4 mb-5"},[t("input",{directives:[{name:"show",rawName:"v-show",value:!e.login,expression:"!login"},{name:"model",rawName:"v-model",value:e.name,expression:"name"}],staticClass:"input",attrs:{autocomplete:"name",type:"text",placeholder:"Your name"},domProps:{value:e.name},on:{input:function(a){a.target.composing||(e.name=a.target.value)}}}),e._v(" "),t("br"),e._v(" "),t("input",{directives:[{name:"model",rawName:"v-model",value:e.email,expression:"email"}],staticClass:"input",attrs:{autocomplete:"username",type:"email",placeholder:"Your email address"},domProps:{value:e.email},on:{input:function(a){a.target.composing||(e.email=a.target.value)}}}),e._v(" "),t("br"),e._v(" "),t("input",{directives:[{name:"model",rawName:"v-model",value:e.password,expression:"password"}],staticClass:"input",attrs:{autocomplete:e.login?"password":"new-password",type:"password",placeholder:"Password"},domProps:{value:e.password},on:{input:function(a){a.target.composing||(e.password=a.target.value)}}})]),e._v(" "),t("div",{staticClass:"flex justify-between"},[t("button",{staticClass:"pointer",attrs:{type:"button"},on:{click:function(a){e.login=!e.login}}},[e._v("\n      "+e._s(e.login?"need to create an account?":"already have an account?")+"\n    ")]),e._v(" "),t("button",{staticClass:"pointer mr2 button",attrs:{type:"button"},on:{click:function(a){return e.confirm()}}},[e._v("\n      "+e._s(e.login?"login":"create account")+"\n    ")])])])}),[],!1,null,null,null).exports}}]);